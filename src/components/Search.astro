---
// src/components/Search.astro
---

<div class="relative">
    <input 
        type="text" 
        placeholder="Quiero saber de..." 
        class="w-full md:w-64 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        id="search-input"
    />
    <button class="absolute right-2 top-2 text-gray-400" id="search-button">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
    </button>
</div>

<script>
    // Esperar a que el DOM esté listo
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        
        if (searchInput) {
            // Buscar al presionar Enter
            searchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
        }
        
        if (searchButton) {
            // Buscar al hacer clic en el botón
            searchButton.addEventListener('click', performSearch);
        }
        
        function performSearch() {
            const query = encodeURIComponent(searchInput.value.trim());
            if (query) {
                window.location.href = `/buscar?q=${query}`;
            }
        }
    });
</script>
